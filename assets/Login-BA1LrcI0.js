import{b,a as y,u as g,r,j as e,S as w,L as h,f as j,s as f}from"./index-BPoGSbFl.js";const I=()=>{const s=b(),o=y(),{t}=g(),[l,n]=r.useState(!1),[i,m]=r.useState(""),[p,c]=r.useState(""),u=a=>{a.preventDefault(),v(i,p)};async function v(a,x){n(!0);try{if(!a||!x){alert(t("auth.errors.requiredUsernameAndPassword"));return}const d=await N({userName:a,password:x});console.log(d),s(j({user:d.user})),f({message:"auth.loginSuccess",type:"success"}),o("/dashboard")}catch(d){console.error(d),f({message:"auth.loginError",type:"error"})}finally{n(!1)}}return e.jsxs("form",{onSubmit:u,className:"w-full mt-4 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col w-full static ",children:[e.jsxs("label",{htmlFor:"input",className:"text-[hsl(var(--color-primary))] text-xs font-semibold capitalize relative top-2 ms-[0.5em] px-[3px] bg-[hsl(var(--color-background))] w-fit",children:[t("auth.email"),":"]}),e.jsx("input",{id:"username",type:"text",placeholder:t("auth.usernamePlaceholder")+"...",name:"input",className:"border-[hsl(var(--color-primary))] input px-[10px] py-[11px] text-xs bg-[hsl(var(--color-background))] border-2 rounded-[0.5em] w-full focus:outline-none placeholder:text-black/25",onChange:a=>m(a.target.value)})]}),e.jsxs("div",{className:"flex flex-col w-full static ",children:[e.jsxs("label",{htmlFor:"input",className:"text-[hsl(var(--color-primary))] text-xs font-semibold capitalize relative top-2 ms-[0.5em] px-[3px] bg-[hsl(var(--color-background))] w-fit",children:[t("auth.password"),":"]}),e.jsx("input",{id:"password",type:"password",placeholder:t("auth.passwordPlaceholder")+"...",name:"input",className:"border-[hsl(var(--color-primary))] input px-[10px] py-[11px] text-xs bg-[hsl(var(--color-background))] border-2 rounded-[0.5em] w-full focus:outline-none placeholder:text-black/25",onChange:a=>c(a.target.value)})]})]}),e.jsxs("button",{type:"submit",className:"btn-1 mt-[1em] w-full rounded-md px-5 py-2.5 text-sm font-medium shadow-sm  flex items-center justify-center",disabled:l,children:[t("auth.signIn"),l&&e.jsx(w,{})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-xs",children:[e.jsx(h,{className:"text-[hsl(var(--color-primary))] font-medium hover:underline",to:"/forgot-password",children:t("auth.forgotPassword")}),e.jsxs("p",{className:"flex justify-center space-x-1",children:[e.jsxs("span",{className:"me-1 text-[hsl(var(--color-gray))]",children:[" ",t("auth.not_Have_an_account")," "]}),e.jsx(h,{className:"text-[hsl(var(--color-primary))] hover:underline ",to:"/register",children:t("auth.register.title")})]})]})]})},N=async s=>{if(await new Promise(o=>setTimeout(o,5e3)),s.userName==="admin"&&s.password==="admin")return{success:!0,user:{id:1,name:"Admin User"}};throw new Error("Invalid credentials")},k=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),S=s=>/^(\+?\d{1,3})?\d{9,14}$/.test(s),P=s=>/^[a-zA-Z0-9_.-]{3,20}$/.test(s),L=s=>k(s)?"email":S(s)?"phone":P(s)?"username":"invalid",U=()=>{const{t:s}=g(),[o,t]=r.useState(""),[,l]=r.useState("username"),[n,i]=r.useState(""),m=p=>{const c=p.target.value.trim();t(c);const u=L(c);l(u),i(u==="invalid"?"⚠️ "+s("auth.invalidUsername"):"")};return e.jsxs("div",{children:[e.jsx("input",{id:"username",type:"text",placeholder:s("auth.usernamePlaceholder")+"...",className:"border-[hsl(var(--color-primary))] input px-[10px] py-[11px] text-xs bg-[hsl(var(--color-background))] border-2 rounded-[0.5em] w-full focus:outline-none placeholder:text-black/25",onChange:m,value:o}),n&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:n})]})};export{U as Input,I as Login,I as default,k as isEmail,S as isPhone,P as isUsername,L as validateInput};
